diff -ruN cluster-agents-3.9.2.old//heartbeat/SAPDatabase cluster-agents-3.9.2/heartbeat/SAPDatabase
--- cluster-agents-3.9.2.old//heartbeat/SAPDatabase	2011-06-29 12:51:48.000000000 +0000
+++ cluster-agents-3.9.2/heartbeat/SAPDatabase	2011-08-24 09:43:15.215463955 +0000
@@ -974,8 +974,11 @@
 fi
 
 # as root user we need the library path to the SAP kernel to be able to call executables
-if [ `echo $LD_LIBRARY_PATH | grep -c "^$DIR_EXECUTABLE\>"` -eq 0 ]; then
-  LD_LIBRARY_PATH=$DIR_EXECUTABLE${LD_LIBRARY_PATH:+:}$LD_LIBRARY_PATH
+if [ "$DIR_EXECUTABLE" ]; then
+  if [ `echo $LD_LIBRARY_PATH | grep -c "^$DIR_EXECUTABLE\>"` -eq 0 ]; then
+      LD_LIBRARY_PATH="$DIR_EXECUTABLE${LD_LIBRARY_PATH:+:$LD_LIBRARY_PATH}"
+      export LD_LIBRARY_PATH
+  fi
   export LD_LIBRARY_PATH
 fi
 sidadm="`echo $SID | tr '[:upper:]' '[:lower:]'`adm"
diff -ruN cluster-agents-3.9.2.old//heartbeat/SAPInstance cluster-agents-3.9.2/heartbeat/SAPInstance
--- cluster-agents-3.9.2.old//heartbeat/SAPInstance	2011-06-29 12:51:48.000000000 +0000
+++ cluster-agents-3.9.2/heartbeat/SAPInstance	2011-08-24 09:43:07.724822028 +0000
@@ -355,8 +355,11 @@
   fi
 
   # as root user we need the library path to the SAP kernel to be able to call sapcontrol
-  if [ `echo $LD_LIBRARY_PATH | grep -c "^$DIR_EXECUTABLE\>"` -eq 0 ]; then
-    LD_LIBRARY_PATH=$DIR_EXECUTABLE${LD_LIBRARY_PATH:+:}$LD_LIBRARY_PATH
+  if [ "$DIR_EXECUTABLE" ]; then
+    if [ `echo $LD_LIBRARY_PATH | grep -c "^$DIR_EXECUTABLE\>"` -eq 0 ]; then
+       LD_LIBRARY_PATH="$DIR_EXECUTABLE${LD_LIBRARY_PATH:+:$LD_LIBRARY_PATH}"
+       export LD_LIBRARY_PATH
+    fi
     export LD_LIBRARY_PATH
   fi
 
